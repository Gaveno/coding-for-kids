<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>🏗️ Block Builder</title>
    <link rel="stylesheet" href="styles/variables.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/crane.css">
    <link rel="stylesheet" href="styles/blocks.css">
    <link rel="stylesheet" href="styles/supply.css">
    <link rel="stylesheet" href="styles/build-area.css">
    <link rel="stylesheet" href="styles/sequence.css">
    <link rel="stylesheet" href="styles/controls.css">
    <link rel="stylesheet" href="styles/overlays.css">
    <link rel="stylesheet" href="styles/animations.css">
    <link rel="stylesheet" href="styles/responsive.css">
</head>
<body>
    <div class="game-container">
        <!-- Header with level indicator -->
        <header class="game-header">
            <a href="../index.html" class="home-btn" aria-label="Back to Home">🏠</a>
            <div class="logo" aria-label="Block Builder game">🏗️</div>
            <div class="level-indicator">
                <span class="star" aria-hidden="true">⭐</span>
                <span class="level-num" id="levelNum" aria-label="Current level">1</span>
            </div>
            <button class="help-btn" id="helpBtn" aria-label="Help">❓</button>
        </header>

        <!-- Main game area - crane spans supply and build areas -->
        <main class="game-main">
            <div class="crane-workspace-container" id="craneWorkspaceContainer">
                <div class="crane-workspace" id="craneWorkspace">
                    <!-- Crane rail spans entire workspace -->
                    <div class="crane-rail" id="craneRail">
                        <!-- Rail markers generated by JS -->
                        <div class="rail-markers" id="railMarkers"></div>
                        <div class="crane-trolley" id="craneTrolley">
                            <div class="trolley-body">🏗️</div>
                            <div class="crane-string" id="craneString"></div>
                            <div class="crane-hook" id="craneHook">🪝</div>
                            <div class="held-block" id="heldBlock"></div>
                        </div>
                    </div>

                    <!-- Work area below crane rail -->
                    <div class="work-area">
                        <!-- Supply stacks (left side) -->
                        <section class="supply-area" id="supplyArea" aria-label="Supply Stacks">
                            <div class="supply-stacks" id="supplyStacks">
                                <!-- Supply columns generated by JS -->
                            </div>
                        </section>

                        <!-- Build area (right side) -->
                        <section class="build-area" id="buildArea" aria-label="Build Area">
                            <div class="build-grid" id="buildGrid" role="grid">
                                <!-- Grid cells generated by JS -->
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </main>

        <!-- Command sequence area -->
        <section class="sequence-section" aria-label="Command Sequence">
            <div class="sequence-header">
                <div class="sequence-label" aria-hidden="true">📝</div>
                <div class="trash-zone" id="trashZone" aria-label="Drag here to delete">🗑️</div>
                <button class="clear-btn" id="clearBtn" aria-label="Clear sequence">🧹</button>
            </div>
            <div class="sequence-area" id="sequenceArea" role="list">
                <div class="sequence-placeholder" id="sequencePlaceholder" aria-hidden="true">
                    👆 ⬇️
                </div>
            </div>
        </section>

        <!-- Command palette -->
        <section class="command-palette" aria-label="Command Buttons">
            <div class="command-blocks">
                <button class="command-btn" data-command="left" draggable="true" aria-label="Move Crane Left">
                    <span class="command-icon" aria-hidden="true">⬅️</span>
                </button>
                <button class="command-btn" data-command="right" draggable="true" aria-label="Move Crane Right">
                    <span class="command-icon" aria-hidden="true">➡️</span>
                </button>
                <button class="command-btn command-hook" data-command="lower" draggable="true" aria-label="Lower Hook">
                    <span class="command-hook-icon" aria-hidden="true">🪝</span>
                    <span class="command-arrow" aria-hidden="true">⬇️</span>
                </button>
                <button class="command-btn command-hook" data-command="raise" draggable="true" aria-label="Raise Hook">
                    <span class="command-hook-icon" aria-hidden="true">🪝</span>
                    <span class="command-arrow" aria-hidden="true">⬆️</span>
                </button>
            </div>
        </section>

        <!-- Control buttons -->
        <section class="control-section" aria-label="Game Controls">
            <button class="control-btn play-btn" id="playBtn" aria-label="Play">
                <span class="control-icon" aria-hidden="true">▶️</span>
            </button>
            <button class="control-btn reset-btn" id="resetBtn" aria-label="Reset">
                <span class="control-icon" aria-hidden="true">🔄</span>
            </button>
        </section>

        <!-- Success overlay -->
        <div class="overlay success-overlay" id="successOverlay" role="dialog" aria-label="Level Complete">
            <div class="overlay-content">
                <div class="success-animation" aria-hidden="true">🎉</div>
                <div class="stars" aria-label="Three stars">⭐⭐⭐</div>
                <button class="next-btn" id="nextBtn" aria-label="Next Level">➡️</button>
            </div>
        </div>

        <!-- Help overlay -->
        <div class="overlay help-overlay" id="helpOverlay" role="dialog" aria-label="How to Play">
            <div class="overlay-content help-content">
                <button class="close-btn" id="closeHelpBtn" aria-label="Close help">✖️</button>
                <div class="help-steps">
                    <div class="help-step">
                        <span class="help-icon" aria-hidden="true">1️⃣</span>
                        <span class="help-visual" aria-label="Tap command buttons">👆 ⬅️➡️🪝</span>
                    </div>
                    <div class="help-step">
                        <span class="help-icon" aria-hidden="true">2️⃣</span>
                        <span class="help-visual" aria-label="Build a sequence">📝 ➡️🪝⬇️🪝⬆️</span>
                    </div>
                    <div class="help-step">
                        <span class="help-icon" aria-hidden="true">3️⃣</span>
                        <span class="help-visual" aria-label="Press play">▶️</span>
                    </div>
                    <div class="help-step">
                        <span class="help-icon" aria-hidden="true">4️⃣</span>
                        <span class="help-visual" aria-label="Crane builds the structure">🏗️🪝🧱</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>
